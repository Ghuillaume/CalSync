#ifndef _VIEW_HPP_
#define _VIEW_HPP_

#include <QMainWindow>
#include <QLabel>
#include <QtGui>

#include <iostream>
#include <sstream>

#include "../Model/headers/common.h"
#include "../Model/headers/Time.h"
#include "Model.h"
#include "DateDialog.hpp"
#include "SlotDialog.hpp"

class View: public QMainWindow
{ Q_OBJECT
    private:
        Time time;
        Model *model;

    public:
        View(Model *model);
       ~View();
	
	    Time *getTime();
	    Model *getModel();
	    
	    void setWeek();
	    void setSlot(const string &s, int row, int column);
	    
	    void updateFilter ();
    
	    // Main frame:
	    QWidget *mainFrame;
	    QVBoxLayout *mainLayout;
	
	    // Filter frame:
	    QFrame *filterFrame;
	    QHBoxLayout *filterLayout;
	
	    QLabel *filterLabel;
	    QComboBox *filterType;
	    int filterTypeIndex;
	    QComboBox *filterValue;
	    QSpacerItem *filterHSpacer;
	    QPushButton *filterDisplay;
	
	    // Table:
	    QTableWidget *tableWidget;
	
	    // Date frame:
	    QFrame *dateFrame;
	    QHBoxLayout *dateLayout;
	    QPushButton *datePrevious;
	    QPushButton *dateSelect;
	    QPushButton *dateNext;
	
	    // Menubar:
	    QMenuBar *menubar;
	
	    QMenu *fileMenu;
	    QAction *newItem;
	    QAction *saveItem;
	    QAction *saveAsItem;
	    QAction *quitItem;
	    QAction *openItem;
	
	    QMenu *addMenu;
	    QAction *moduleItem;
	    QAction *groupItem;
	    QAction *teacherItem;
	    QAction *roomItem;

    public slots:
        void filterTypeChanged(int index);
        void display ();
	    void previousWeek();
	    void nextWeek();
};

#endif
